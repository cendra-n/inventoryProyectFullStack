<div class="container mt-4">
  <h2 class="text-center">Registrar movimiento de inventario</h2>
  <hr>
  
   <button class="btn btn-secondary mb-3" (click)="goToBackInventories()">
    ⬅ Atrás
  </button>

  <h3>¡Atención! Los movimientos de inventario, no pueden borrarse ni editarse. Por lo cual, si se ingreso mal 
    la cantidad. Debe ajustarse ingresando un nuevo movimiento, que compense el número que se queria agregar inicialmente.
    Por ejemplo: Se quiere ingresar 200 unidades de jabón dove y por error se marca 250 en el ingreso, se debe generar un nuevo 
    movimiento de 50 unidades que será de salida en este caso.
  </h3>

  <form (ngSubmit)="save()" #form="ngForm">

    <!-- PRODUCTO -->
    <div class="mb-3">
      <label class="form-label">Producto</label>
      <select
        class="form-select"
        name="productId"
        [(ngModel)]="movement.productId"
        required>
        <option value="0" disabled>
          Seleccione un producto
        </option>
        <option *ngFor="let p of products" [value]="p.id">
          {{ p.name }}
        </option>
      </select>
    </div>

    <!-- TIPO -->
    <div class="mb-3">
      <label class="form-label">Tipo de movimiento</label>
      <select
        class="form-select"
        name="type"
        [(ngModel)]="movement.type"
        required>
        <option value="IN">Entrada</option>
        <option value="OUT">Salida</option>
      </select>
    </div>

    <!-- CANTIDAD -->
    <div class="mb-3">
      <label class="form-label">Cantidad</label>
      <input
        type="number"
        class="form-control"
        name="quantity"
        [(ngModel)]="movement.quantity"
        min="1"
        required>
    </div>

    <!-- BOTONES -->
    <div class="d-flex gap-2">
      <button
        type="submit"
        class="btn btn-success"
        [disabled]="form.invalid || loading">
        Guardar
      </button>

      <button
        type="button"
        class="btn btn-secondary"
        (click)="cancel()">
        Cancelar
      </button>
    </div>

  </form>
</div>
